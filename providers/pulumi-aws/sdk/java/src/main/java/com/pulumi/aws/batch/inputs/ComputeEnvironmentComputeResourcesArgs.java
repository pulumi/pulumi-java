// *** WARNING: this file was generated by pulumi-java-gen. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package com.pulumi.aws.batch.inputs;

import com.pulumi.aws.batch.inputs.ComputeEnvironmentComputeResourcesEc2ConfigurationArgs;
import com.pulumi.aws.batch.inputs.ComputeEnvironmentComputeResourcesLaunchTemplateArgs;
import com.pulumi.core.Output;
import com.pulumi.core.annotations.Import;
import com.pulumi.core.internal.Codegen;
import java.lang.Integer;
import java.lang.String;
import java.util.List;
import java.util.Map;
import java.util.Objects;
import javax.annotation.Nullable;


public final class ComputeEnvironmentComputeResourcesArgs extends com.pulumi.resources.ResourceArgs {

    public static final ComputeEnvironmentComputeResourcesArgs Empty = new ComputeEnvironmentComputeResourcesArgs();

    /**
     * The allocation strategy to use for the compute resource in case not enough instances of the best fitting instance type can be allocated. Valid items are `BEST_FIT_PROGRESSIVE`, `SPOT_CAPACITY_OPTIMIZED` or `BEST_FIT`. Defaults to `BEST_FIT`. See [AWS docs](https://docs.aws.amazon.com/batch/latest/userguide/allocation-strategies.html) for details. This parameter isn&#39;t applicable to jobs running on Fargate resources, and shouldn&#39;t be specified.
     * 
     */
    @Import(name="allocationStrategy")
      private final @Nullable Output<String> allocationStrategy;

    public Output<String> allocationStrategy() {
        return this.allocationStrategy == null ? Codegen.empty() : this.allocationStrategy;
    }

    /**
     * Integer of maximum percentage that a Spot Instance price can be when compared with the On-Demand price for that instance type before instances are launched. For example, if your bid percentage is 20% (`20`), then the Spot price must be below 20% of the current On-Demand price for that EC2 instance. If you leave this field empty, the default value is 100% of the On-Demand price. This parameter isn&#39;t applicable to jobs running on Fargate resources, and shouldn&#39;t be specified.
     * 
     */
    @Import(name="bidPercentage")
      private final @Nullable Output<Integer> bidPercentage;

    public Output<Integer> bidPercentage() {
        return this.bidPercentage == null ? Codegen.empty() : this.bidPercentage;
    }

    /**
     * The desired number of EC2 vCPUS in the compute environment. This parameter isn&#39;t applicable to jobs running on Fargate resources, and shouldn&#39;t be specified.
     * 
     */
    @Import(name="desiredVcpus")
      private final @Nullable Output<Integer> desiredVcpus;

    public Output<Integer> desiredVcpus() {
        return this.desiredVcpus == null ? Codegen.empty() : this.desiredVcpus;
    }

    /**
     * Provides information used to select Amazon Machine Images (AMIs) for EC2 instances in the compute environment. If Ec2Configuration isn&#39;t specified, the default is ECS_AL2. This parameter isn&#39;t applicable to jobs that are running on Fargate resources, and shouldn&#39;t be specified.
     * 
     */
    @Import(name="ec2Configuration")
      private final @Nullable Output<ComputeEnvironmentComputeResourcesEc2ConfigurationArgs> ec2Configuration;

    public Output<ComputeEnvironmentComputeResourcesEc2ConfigurationArgs> ec2Configuration() {
        return this.ec2Configuration == null ? Codegen.empty() : this.ec2Configuration;
    }

    /**
     * The EC2 key pair that is used for instances launched in the compute environment. This parameter isn&#39;t applicable to jobs running on Fargate resources, and shouldn&#39;t be specified.
     * 
     */
    @Import(name="ec2KeyPair")
      private final @Nullable Output<String> ec2KeyPair;

    public Output<String> ec2KeyPair() {
        return this.ec2KeyPair == null ? Codegen.empty() : this.ec2KeyPair;
    }

    /**
     * The Amazon Machine Image (AMI) ID used for instances launched in the compute environment. This parameter isn&#39;t applicable to jobs running on Fargate resources, and shouldn&#39;t be specified. (Deprecated, use `image_id_override` instead)
     * 
     */
    @Import(name="imageId")
      private final @Nullable Output<String> imageId;

    public Output<String> imageId() {
        return this.imageId == null ? Codegen.empty() : this.imageId;
    }

    /**
     * The Amazon ECS instance role applied to Amazon EC2 instances in a compute environment. This parameter isn&#39;t applicable to jobs running on Fargate resources, and shouldn&#39;t be specified.
     * 
     */
    @Import(name="instanceRole")
      private final @Nullable Output<String> instanceRole;

    public Output<String> instanceRole() {
        return this.instanceRole == null ? Codegen.empty() : this.instanceRole;
    }

    /**
     * A list of instance types that may be launched. This parameter isn&#39;t applicable to jobs running on Fargate resources, and shouldn&#39;t be specified.
     * 
     */
    @Import(name="instanceTypes")
      private final @Nullable Output<List<String>> instanceTypes;

    public Output<List<String>> instanceTypes() {
        return this.instanceTypes == null ? Codegen.empty() : this.instanceTypes;
    }

    /**
     * The launch template to use for your compute resources. See details below. This parameter isn&#39;t applicable to jobs running on Fargate resources, and shouldn&#39;t be specified.
     * 
     */
    @Import(name="launchTemplate")
      private final @Nullable Output<ComputeEnvironmentComputeResourcesLaunchTemplateArgs> launchTemplate;

    public Output<ComputeEnvironmentComputeResourcesLaunchTemplateArgs> launchTemplate() {
        return this.launchTemplate == null ? Codegen.empty() : this.launchTemplate;
    }

    /**
     * The maximum number of EC2 vCPUs that an environment can reach.
     * 
     */
    @Import(name="maxVcpus", required=true)
      private final Output<Integer> maxVcpus;

    public Output<Integer> maxVcpus() {
        return this.maxVcpus;
    }

    /**
     * The minimum number of EC2 vCPUs that an environment should maintain. For `EC2` or `SPOT` compute environments, if the parameter is not explicitly defined, a `0` default value will be set. This parameter isn&#39;t applicable to jobs running on Fargate resources, and shouldn&#39;t be specified.
     * 
     */
    @Import(name="minVcpus")
      private final @Nullable Output<Integer> minVcpus;

    public Output<Integer> minVcpus() {
        return this.minVcpus == null ? Codegen.empty() : this.minVcpus;
    }

    /**
     * A list of EC2 security group that are associated with instances launched in the compute environment.
     * 
     */
    @Import(name="securityGroupIds", required=true)
      private final Output<List<String>> securityGroupIds;

    public Output<List<String>> securityGroupIds() {
        return this.securityGroupIds;
    }

    /**
     * The Amazon Resource Name (ARN) of the Amazon EC2 Spot Fleet IAM role applied to a SPOT compute environment. This parameter is required for SPOT compute environments. This parameter isn&#39;t applicable to jobs running on Fargate resources, and shouldn&#39;t be specified.
     * 
     */
    @Import(name="spotIamFleetRole")
      private final @Nullable Output<String> spotIamFleetRole;

    public Output<String> spotIamFleetRole() {
        return this.spotIamFleetRole == null ? Codegen.empty() : this.spotIamFleetRole;
    }

    /**
     * A list of VPC subnets into which the compute resources are launched.
     * 
     */
    @Import(name="subnets", required=true)
      private final Output<List<String>> subnets;

    public Output<List<String>> subnets() {
        return this.subnets;
    }

    /**
     * Key-value pair tags to be applied to resources that are launched in the compute environment. This parameter isn&#39;t applicable to jobs running on Fargate resources, and shouldn&#39;t be specified.
     * 
     */
    @Import(name="tags")
      private final @Nullable Output<Map<String,String>> tags;

    public Output<Map<String,String>> tags() {
        return this.tags == null ? Codegen.empty() : this.tags;
    }

    /**
     * The type of compute environment. Valid items are `EC2`, `SPOT`, `FARGATE` or `FARGATE_SPOT`.
     * 
     */
    @Import(name="type", required=true)
      private final Output<String> type;

    public Output<String> type() {
        return this.type;
    }

    public ComputeEnvironmentComputeResourcesArgs(
        @Nullable Output<String> allocationStrategy,
        @Nullable Output<Integer> bidPercentage,
        @Nullable Output<Integer> desiredVcpus,
        @Nullable Output<ComputeEnvironmentComputeResourcesEc2ConfigurationArgs> ec2Configuration,
        @Nullable Output<String> ec2KeyPair,
        @Nullable Output<String> imageId,
        @Nullable Output<String> instanceRole,
        @Nullable Output<List<String>> instanceTypes,
        @Nullable Output<ComputeEnvironmentComputeResourcesLaunchTemplateArgs> launchTemplate,
        Output<Integer> maxVcpus,
        @Nullable Output<Integer> minVcpus,
        Output<List<String>> securityGroupIds,
        @Nullable Output<String> spotIamFleetRole,
        Output<List<String>> subnets,
        @Nullable Output<Map<String,String>> tags,
        Output<String> type) {
        this.allocationStrategy = allocationStrategy;
        this.bidPercentage = bidPercentage;
        this.desiredVcpus = desiredVcpus;
        this.ec2Configuration = ec2Configuration;
        this.ec2KeyPair = ec2KeyPair;
        this.imageId = imageId;
        this.instanceRole = instanceRole;
        this.instanceTypes = instanceTypes;
        this.launchTemplate = launchTemplate;
        this.maxVcpus = Objects.requireNonNull(maxVcpus, "expected parameter 'maxVcpus' to be non-null");
        this.minVcpus = minVcpus;
        this.securityGroupIds = Objects.requireNonNull(securityGroupIds, "expected parameter 'securityGroupIds' to be non-null");
        this.spotIamFleetRole = spotIamFleetRole;
        this.subnets = Objects.requireNonNull(subnets, "expected parameter 'subnets' to be non-null");
        this.tags = tags;
        this.type = Objects.requireNonNull(type, "expected parameter 'type' to be non-null");
    }

    private ComputeEnvironmentComputeResourcesArgs() {
        this.allocationStrategy = Codegen.empty();
        this.bidPercentage = Codegen.empty();
        this.desiredVcpus = Codegen.empty();
        this.ec2Configuration = Codegen.empty();
        this.ec2KeyPair = Codegen.empty();
        this.imageId = Codegen.empty();
        this.instanceRole = Codegen.empty();
        this.instanceTypes = Codegen.empty();
        this.launchTemplate = Codegen.empty();
        this.maxVcpus = Codegen.empty();
        this.minVcpus = Codegen.empty();
        this.securityGroupIds = Codegen.empty();
        this.spotIamFleetRole = Codegen.empty();
        this.subnets = Codegen.empty();
        this.tags = Codegen.empty();
        this.type = Codegen.empty();
    }

    public static Builder builder() {
        return new Builder();
    }

    public static Builder builder(ComputeEnvironmentComputeResourcesArgs defaults) {
        return new Builder(defaults);
    }

    public static final class Builder {
        private @Nullable Output<String> allocationStrategy;
        private @Nullable Output<Integer> bidPercentage;
        private @Nullable Output<Integer> desiredVcpus;
        private @Nullable Output<ComputeEnvironmentComputeResourcesEc2ConfigurationArgs> ec2Configuration;
        private @Nullable Output<String> ec2KeyPair;
        private @Nullable Output<String> imageId;
        private @Nullable Output<String> instanceRole;
        private @Nullable Output<List<String>> instanceTypes;
        private @Nullable Output<ComputeEnvironmentComputeResourcesLaunchTemplateArgs> launchTemplate;
        private Output<Integer> maxVcpus;
        private @Nullable Output<Integer> minVcpus;
        private Output<List<String>> securityGroupIds;
        private @Nullable Output<String> spotIamFleetRole;
        private Output<List<String>> subnets;
        private @Nullable Output<Map<String,String>> tags;
        private Output<String> type;

        public Builder() {
    	      // Empty
        }

        public Builder(ComputeEnvironmentComputeResourcesArgs defaults) {
    	      Objects.requireNonNull(defaults);
    	      this.allocationStrategy = defaults.allocationStrategy;
    	      this.bidPercentage = defaults.bidPercentage;
    	      this.desiredVcpus = defaults.desiredVcpus;
    	      this.ec2Configuration = defaults.ec2Configuration;
    	      this.ec2KeyPair = defaults.ec2KeyPair;
    	      this.imageId = defaults.imageId;
    	      this.instanceRole = defaults.instanceRole;
    	      this.instanceTypes = defaults.instanceTypes;
    	      this.launchTemplate = defaults.launchTemplate;
    	      this.maxVcpus = defaults.maxVcpus;
    	      this.minVcpus = defaults.minVcpus;
    	      this.securityGroupIds = defaults.securityGroupIds;
    	      this.spotIamFleetRole = defaults.spotIamFleetRole;
    	      this.subnets = defaults.subnets;
    	      this.tags = defaults.tags;
    	      this.type = defaults.type;
        }

        public Builder allocationStrategy(@Nullable Output<String> allocationStrategy) {
            this.allocationStrategy = allocationStrategy;
            return this;
        }
        public Builder allocationStrategy(@Nullable String allocationStrategy) {
            this.allocationStrategy = Codegen.ofNullable(allocationStrategy);
            return this;
        }
        public Builder bidPercentage(@Nullable Output<Integer> bidPercentage) {
            this.bidPercentage = bidPercentage;
            return this;
        }
        public Builder bidPercentage(@Nullable Integer bidPercentage) {
            this.bidPercentage = Codegen.ofNullable(bidPercentage);
            return this;
        }
        public Builder desiredVcpus(@Nullable Output<Integer> desiredVcpus) {
            this.desiredVcpus = desiredVcpus;
            return this;
        }
        public Builder desiredVcpus(@Nullable Integer desiredVcpus) {
            this.desiredVcpus = Codegen.ofNullable(desiredVcpus);
            return this;
        }
        public Builder ec2Configuration(@Nullable Output<ComputeEnvironmentComputeResourcesEc2ConfigurationArgs> ec2Configuration) {
            this.ec2Configuration = ec2Configuration;
            return this;
        }
        public Builder ec2Configuration(@Nullable ComputeEnvironmentComputeResourcesEc2ConfigurationArgs ec2Configuration) {
            this.ec2Configuration = Codegen.ofNullable(ec2Configuration);
            return this;
        }
        public Builder ec2KeyPair(@Nullable Output<String> ec2KeyPair) {
            this.ec2KeyPair = ec2KeyPair;
            return this;
        }
        public Builder ec2KeyPair(@Nullable String ec2KeyPair) {
            this.ec2KeyPair = Codegen.ofNullable(ec2KeyPair);
            return this;
        }
        public Builder imageId(@Nullable Output<String> imageId) {
            this.imageId = imageId;
            return this;
        }
        public Builder imageId(@Nullable String imageId) {
            this.imageId = Codegen.ofNullable(imageId);
            return this;
        }
        public Builder instanceRole(@Nullable Output<String> instanceRole) {
            this.instanceRole = instanceRole;
            return this;
        }
        public Builder instanceRole(@Nullable String instanceRole) {
            this.instanceRole = Codegen.ofNullable(instanceRole);
            return this;
        }
        public Builder instanceTypes(@Nullable Output<List<String>> instanceTypes) {
            this.instanceTypes = instanceTypes;
            return this;
        }
        public Builder instanceTypes(@Nullable List<String> instanceTypes) {
            this.instanceTypes = Codegen.ofNullable(instanceTypes);
            return this;
        }
        public Builder instanceTypes(String... instanceTypes) {
            return instanceTypes(List.of(instanceTypes));
        }
        public Builder launchTemplate(@Nullable Output<ComputeEnvironmentComputeResourcesLaunchTemplateArgs> launchTemplate) {
            this.launchTemplate = launchTemplate;
            return this;
        }
        public Builder launchTemplate(@Nullable ComputeEnvironmentComputeResourcesLaunchTemplateArgs launchTemplate) {
            this.launchTemplate = Codegen.ofNullable(launchTemplate);
            return this;
        }
        public Builder maxVcpus(Output<Integer> maxVcpus) {
            this.maxVcpus = Objects.requireNonNull(maxVcpus);
            return this;
        }
        public Builder maxVcpus(Integer maxVcpus) {
            this.maxVcpus = Output.of(Objects.requireNonNull(maxVcpus));
            return this;
        }
        public Builder minVcpus(@Nullable Output<Integer> minVcpus) {
            this.minVcpus = minVcpus;
            return this;
        }
        public Builder minVcpus(@Nullable Integer minVcpus) {
            this.minVcpus = Codegen.ofNullable(minVcpus);
            return this;
        }
        public Builder securityGroupIds(Output<List<String>> securityGroupIds) {
            this.securityGroupIds = Objects.requireNonNull(securityGroupIds);
            return this;
        }
        public Builder securityGroupIds(List<String> securityGroupIds) {
            this.securityGroupIds = Output.of(Objects.requireNonNull(securityGroupIds));
            return this;
        }
        public Builder securityGroupIds(String... securityGroupIds) {
            return securityGroupIds(List.of(securityGroupIds));
        }
        public Builder spotIamFleetRole(@Nullable Output<String> spotIamFleetRole) {
            this.spotIamFleetRole = spotIamFleetRole;
            return this;
        }
        public Builder spotIamFleetRole(@Nullable String spotIamFleetRole) {
            this.spotIamFleetRole = Codegen.ofNullable(spotIamFleetRole);
            return this;
        }
        public Builder subnets(Output<List<String>> subnets) {
            this.subnets = Objects.requireNonNull(subnets);
            return this;
        }
        public Builder subnets(List<String> subnets) {
            this.subnets = Output.of(Objects.requireNonNull(subnets));
            return this;
        }
        public Builder subnets(String... subnets) {
            return subnets(List.of(subnets));
        }
        public Builder tags(@Nullable Output<Map<String,String>> tags) {
            this.tags = tags;
            return this;
        }
        public Builder tags(@Nullable Map<String,String> tags) {
            this.tags = Codegen.ofNullable(tags);
            return this;
        }
        public Builder type(Output<String> type) {
            this.type = Objects.requireNonNull(type);
            return this;
        }
        public Builder type(String type) {
            this.type = Output.of(Objects.requireNonNull(type));
            return this;
        }        public ComputeEnvironmentComputeResourcesArgs build() {
            return new ComputeEnvironmentComputeResourcesArgs(allocationStrategy, bidPercentage, desiredVcpus, ec2Configuration, ec2KeyPair, imageId, instanceRole, instanceTypes, launchTemplate, maxVcpus, minVcpus, securityGroupIds, spotIamFleetRole, subnets, tags, type);
        }
    }
}
