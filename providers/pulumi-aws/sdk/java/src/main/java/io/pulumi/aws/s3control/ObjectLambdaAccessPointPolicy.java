// *** WARNING: this file was generated by pulumi-java-gen. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package io.pulumi.aws.s3control;

import io.pulumi.aws.Utilities;
import io.pulumi.aws.s3control.ObjectLambdaAccessPointPolicyArgs;
import io.pulumi.aws.s3control.inputs.ObjectLambdaAccessPointPolicyState;
import io.pulumi.core.Output;
import io.pulumi.core.annotations.Export;
import io.pulumi.core.annotations.ResourceType;
import java.lang.Boolean;
import java.lang.String;
import javax.annotation.Nullable;

/**
 * Provides a resource to manage an S3 Object Lambda Access Point resource policy.
 * 
 * {{% examples %}}
 * ## Example Usage
 * {{% example %}}
 * 
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as aws from "@pulumi/aws";
 * 
 * const exampleBucket = new aws.s3.Bucket("exampleBucket", {});
 * const exampleAccessPoint = new aws.s3.AccessPoint("exampleAccessPoint", {bucket: exampleBucket.id});
 * const exampleObjectLambdaAccessPoint = new aws.s3control.ObjectLambdaAccessPoint("exampleObjectLambdaAccessPoint", {configuration: {
 *     supportingAccessPoint: exampleAccessPoint.arn,
 *     transformationConfigurations: [{
 *         actions: ["GetObject"],
 *         contentTransformation: {
 *             awsLambda: {
 *                 functionArn: aws_lambda_function.example.arn,
 *             },
 *         },
 *     }],
 * }});
 * const exampleObjectLambdaAccessPointPolicy = new aws.s3control.ObjectLambdaAccessPointPolicy("exampleObjectLambdaAccessPointPolicy", {policy: exampleObjectLambdaAccessPoint.arn.apply(arn => JSON.stringify({
 *     Version: "2008-10-17",
 *     Statement: [{
 *         Effect: "Allow",
 *         Action: "s3-object-lambda:GetObject",
 *         Principal: {
 *             AWS: data.aws_caller_identity.current.account_id,
 *         },
 *         Resource: arn,
 *     }],
 * }))});
 * ```
 * ```python
 * import pulumi
 * import json
 * import pulumi_aws as aws
 * 
 * example_bucket = aws.s3.Bucket("exampleBucket")
 * example_access_point = aws.s3.AccessPoint("exampleAccessPoint", bucket=example_bucket.id)
 * example_object_lambda_access_point = aws.s3control.ObjectLambdaAccessPoint("exampleObjectLambdaAccessPoint", configuration=aws.s3control.ObjectLambdaAccessPointConfigurationArgs(
 *     supporting_access_point=example_access_point.arn,
 *     transformation_configurations=[aws.s3control.ObjectLambdaAccessPointConfigurationTransformationConfigurationArgs(
 *         actions=["GetObject"],
 *         content_transformation=aws.s3control.ObjectLambdaAccessPointConfigurationTransformationConfigurationContentTransformationArgs(
 *             aws_lambda=aws.s3control.ObjectLambdaAccessPointConfigurationTransformationConfigurationContentTransformationAwsLambdaArgs(
 *                 function_arn=aws_lambda_function["example"]["arn"],
 *             ),
 *         ),
 *     )],
 * ))
 * example_object_lambda_access_point_policy = aws.s3control.ObjectLambdaAccessPointPolicy("exampleObjectLambdaAccessPointPolicy", policy=example_object_lambda_access_point.arn.apply(lambda arn: json.dumps({
 *     "Version": "2008-10-17",
 *     "Statement": [{
 *         "Effect": "Allow",
 *         "Action": "s3-object-lambda:GetObject",
 *         "Principal": {
 *             "AWS": data["aws_caller_identity"]["current"]["account_id"],
 *         },
 *         "Resource": arn,
 *     }],
 * })))
 * ```
 * ```csharp
 * using System.Collections.Generic;
 * using System.Text.Json;
 * using Pulumi;
 * using Aws = Pulumi.Aws;
 * 
 * class MyStack : Stack
 * {
 *     public MyStack()
 *     {
 *         var exampleBucket = new Aws.S3.Bucket("exampleBucket", new Aws.S3.BucketArgs
 *         {
 *         });
 *         var exampleAccessPoint = new Aws.S3.AccessPoint("exampleAccessPoint", new Aws.S3.AccessPointArgs
 *         {
 *             Bucket = exampleBucket.Id,
 *         });
 *         var exampleObjectLambdaAccessPoint = new Aws.S3Control.ObjectLambdaAccessPoint("exampleObjectLambdaAccessPoint", new Aws.S3Control.ObjectLambdaAccessPointArgs
 *         {
 *             Configuration = new Aws.S3Control.Inputs.ObjectLambdaAccessPointConfigurationArgs
 *             {
 *                 SupportingAccessPoint = exampleAccessPoint.Arn,
 *                 TransformationConfigurations = 
 *                 {
 *                     new Aws.S3Control.Inputs.ObjectLambdaAccessPointConfigurationTransformationConfigurationArgs
 *                     {
 *                         Actions = 
 *                         {
 *                             "GetObject",
 *                         },
 *                         ContentTransformation = new Aws.S3Control.Inputs.ObjectLambdaAccessPointConfigurationTransformationConfigurationContentTransformationArgs
 *                         {
 *                             AwsLambda = new Aws.S3Control.Inputs.ObjectLambdaAccessPointConfigurationTransformationConfigurationContentTransformationAwsLambdaArgs
 *                             {
 *                                 FunctionArn = aws_lambda_function.Example.Arn,
 *                             },
 *                         },
 *                     },
 *                 },
 *             },
 *         });
 *         var exampleObjectLambdaAccessPointPolicy = new Aws.S3Control.ObjectLambdaAccessPointPolicy("exampleObjectLambdaAccessPointPolicy", new Aws.S3Control.ObjectLambdaAccessPointPolicyArgs
 *         {
 *             Policy = exampleObjectLambdaAccessPoint.Arn.Apply(arn => JsonSerializer.Serialize(new Dictionary<string, object?>
 *             {
 *                 { "Version", "2008-10-17" },
 *                 { "Statement", new[]
 *                     {
 *                         new Dictionary<string, object?>
 *                         {
 *                             { "Effect", "Allow" },
 *                             { "Action", "s3-object-lambda:GetObject" },
 *                             { "Principal", new Dictionary<string, object?>
 *                             {
 *                                 { "AWS", data.Aws_caller_identity.Current.Account_id },
 *                             } },
 *                             { "Resource", arn },
 *                         },
 *                     }
 *                  },
 *             })),
 *         });
 *     }
 * 
 * }
 * ```
 * ```go
 * package main
 * 
 * import (
 * 	"encoding/json"
 * 
 * 	"github.com/pulumi/pulumi-aws/sdk/v4/go/aws/s3"
 * 	"github.com/pulumi/pulumi-aws/sdk/v4/go/aws/s3control"
 * 	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
 * )
 * 
 * func main() {
 * 	pulumi.Run(func(ctx *pulumi.Context) error {
 * 		exampleBucket, err := s3.NewBucket(ctx, "exampleBucket", nil)
 * 		if err != nil {
 * 			return err
 * 		}
 * 		exampleAccessPoint, err := s3.NewAccessPoint(ctx, "exampleAccessPoint", &s3.AccessPointArgs{
 * 			Bucket: exampleBucket.ID(),
 * 		})
 * 		if err != nil {
 * 			return err
 * 		}
 * 		exampleObjectLambdaAccessPoint, err := s3control.NewObjectLambdaAccessPoint(ctx, "exampleObjectLambdaAccessPoint", &s3control.ObjectLambdaAccessPointArgs{
 * 			Configuration: &s3control.ObjectLambdaAccessPointConfigurationArgs{
 * 				SupportingAccessPoint: exampleAccessPoint.Arn,
 * 				TransformationConfigurations: s3control.ObjectLambdaAccessPointConfigurationTransformationConfigurationArray{
 * 					&s3control.ObjectLambdaAccessPointConfigurationTransformationConfigurationArgs{
 * 						Actions: pulumi.StringArray{
 * 							pulumi.String("GetObject"),
 * 						},
 * 						ContentTransformation: &s3control.ObjectLambdaAccessPointConfigurationTransformationConfigurationContentTransformationArgs{
 * 							AwsLambda: &s3control.ObjectLambdaAccessPointConfigurationTransformationConfigurationContentTransformationAwsLambdaArgs{
 * 								FunctionArn: pulumi.Any(aws_lambda_function.Example.Arn),
 * 							},
 * 						},
 * 					},
 * 				},
 * 			},
 * 		})
 * 		if err != nil {
 * 			return err
 * 		}
 * 		_, err = s3control.NewObjectLambdaAccessPointPolicy(ctx, "exampleObjectLambdaAccessPointPolicy", &s3control.ObjectLambdaAccessPointPolicyArgs{
 * 			Policy: exampleObjectLambdaAccessPoint.Arn.ApplyT(func(arn string) (pulumi.String, error) {
 * 				var _zero pulumi.String
 * 				tmpJSON0, err := json.Marshal(map[string]interface{}{
 * 					"Version": "2008-10-17",
 * 					"Statement": []map[string]interface{}{
 * 						map[string]interface{}{
 * 							"Effect": "Allow",
 * 							"Action": "s3-object-lambda:GetObject",
 * 							"Principal": map[string]interface{}{
 * 								"AWS": data.Aws_caller_identity.Current.Account_id,
 * 							},
 * 							"Resource": arn,
 * 						},
 * 					},
 * 				})
 * 				if err != nil {
 * 					return _zero, err
 * 				}
 * 				json0 := string(tmpJSON0)
 * 				return json0, nil
 * 			}).(pulumi.StringOutput),
 * 		})
 * 		if err != nil {
 * 			return err
 * 		}
 * 		return nil
 * 	})
 * }
 * ```
 * {{% /example %}}
 * {{% /examples %}}
 * 
 * ## Import
 * 
 * Object Lambda Access Point policies can be imported using the `account_id` and `name`, separated by a colon (`:`), e.g.
 * 
 * ```sh
 *  $ pulumi import aws:s3control/objectLambdaAccessPointPolicy:ObjectLambdaAccessPointPolicy example 123456789012:example
 * ```
 * 
 *  
 */
@ResourceType(type="aws:s3control/objectLambdaAccessPointPolicy:ObjectLambdaAccessPointPolicy")
public class ObjectLambdaAccessPointPolicy extends io.pulumi.resources.CustomResource {
    @Export(name="accountId", type=String.class, parameters={})
    private Output<String> accountId;

    public Output<String> getAccountId() {
        return this.accountId;
    }
    /**
     * Indicates whether this access point currently has a policy that allows public access.
     * 
     */
    @Export(name="hasPublicAccessPolicy", type=Boolean.class, parameters={})
    private Output<Boolean> hasPublicAccessPolicy;

    /**
     * @return Indicates whether this access point currently has a policy that allows public access.
     * 
     */
    public Output<Boolean> getHasPublicAccessPolicy() {
        return this.hasPublicAccessPolicy;
    }
    /**
     * The name of the Object Lambda Access Point.
     * 
     */
    @Export(name="name", type=String.class, parameters={})
    private Output<String> name;

    /**
     * @return The name of the Object Lambda Access Point.
     * 
     */
    public Output<String> getName() {
        return this.name;
    }
    /**
     * The Object Lambda Access Point resource policy document.
     * 
     */
    @Export(name="policy", type=String.class, parameters={})
    private Output<String> policy;

    /**
     * @return The Object Lambda Access Point resource policy document.
     * 
     */
    public Output<String> getPolicy() {
        return this.policy;
    }

    /**
     *
     * @param name The _unique_ name of the resulting resource.
     */
    public ObjectLambdaAccessPointPolicy(String name) {
        this(name, ObjectLambdaAccessPointPolicyArgs.Empty);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     */
    public ObjectLambdaAccessPointPolicy(String name, ObjectLambdaAccessPointPolicyArgs args) {
        this(name, args, null);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param options A bag of options that control this resource's behavior.
     */
    public ObjectLambdaAccessPointPolicy(String name, ObjectLambdaAccessPointPolicyArgs args, @Nullable io.pulumi.resources.CustomResourceOptions options) {
        super("aws:s3control/objectLambdaAccessPointPolicy:ObjectLambdaAccessPointPolicy", name, args == null ? ObjectLambdaAccessPointPolicyArgs.Empty : args, makeResourceOptions(options, Output.empty()));
    }

    private ObjectLambdaAccessPointPolicy(String name, Output<String> id, @Nullable ObjectLambdaAccessPointPolicyState state, @Nullable io.pulumi.resources.CustomResourceOptions options) {
        super("aws:s3control/objectLambdaAccessPointPolicy:ObjectLambdaAccessPointPolicy", name, state, makeResourceOptions(options, id));
    }

    private static io.pulumi.resources.CustomResourceOptions makeResourceOptions(@Nullable io.pulumi.resources.CustomResourceOptions options, @Nullable Output<String> id) {
        var defaultOptions = io.pulumi.resources.CustomResourceOptions.builder()
            .version(Utilities.getVersion())
            .build();
        return io.pulumi.resources.CustomResourceOptions.merge(defaultOptions, options, id);
    }

    /**
     * Get an existing Host resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state
     * @param options Optional settings to control the behavior of the CustomResource.
     */
    public static ObjectLambdaAccessPointPolicy get(String name, Output<String> id, @Nullable ObjectLambdaAccessPointPolicyState state, @Nullable io.pulumi.resources.CustomResourceOptions options) {
        return new ObjectLambdaAccessPointPolicy(name, id, state, options);
    }
}
