// *** WARNING: this file was generated by pulumi-java-gen. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package io.pulumi.aws.apigatewayv2;

import io.pulumi.aws.Utilities;
import io.pulumi.aws.apigatewayv2.RouteArgs;
import io.pulumi.aws.apigatewayv2.inputs.RouteState;
import io.pulumi.aws.apigatewayv2.outputs.RouteRequestParameter;
import io.pulumi.core.Output;
import io.pulumi.core.annotations.Export;
import io.pulumi.core.annotations.ResourceType;
import java.lang.Boolean;
import java.lang.String;
import java.util.List;
import java.util.Map;
import javax.annotation.Nullable;

/**
 * Manages an Amazon API Gateway Version 2 route.
 * More information can be found in the [Amazon API Gateway Developer Guide](https://docs.aws.amazon.com/apigateway/latest/developerguide/welcome.html) for [WebSocket](https://docs.aws.amazon.com/apigateway/latest/developerguide/websocket-api-develop-routes.html) and [HTTP](https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-develop-routes.html) APIs.
 * 
 * {{% examples %}}
 * ## Example Usage
 * {{% example %}}
 * ### Basic
 * 
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as aws from "@pulumi/aws";
 * 
 * const exampleApi = new aws.apigatewayv2.Api("exampleApi", {
 *     protocolType: "WEBSOCKET",
 *     routeSelectionExpression: `$request.body.action`,
 * });
 * const exampleRoute = new aws.apigatewayv2.Route("exampleRoute", {
 *     apiId: exampleApi.id,
 *     routeKey: `$default`,
 * });
 * ```
 * ```python
 * import pulumi
 * import pulumi_aws as aws
 * 
 * example_api = aws.apigatewayv2.Api("exampleApi",
 *     protocol_type="WEBSOCKET",
 *     route_selection_expression="$request.body.action")
 * example_route = aws.apigatewayv2.Route("exampleRoute",
 *     api_id=example_api.id,
 *     route_key="$default")
 * ```
 * ```csharp
 * using Pulumi;
 * using Aws = Pulumi.Aws;
 * 
 * class MyStack : Stack
 * {
 *     public MyStack()
 *     {
 *         var exampleApi = new Aws.ApiGatewayV2.Api("exampleApi", new Aws.ApiGatewayV2.ApiArgs
 *         {
 *             ProtocolType = "WEBSOCKET",
 *             RouteSelectionExpression = "$request.body.action",
 *         });
 *         var exampleRoute = new Aws.ApiGatewayV2.Route("exampleRoute", new Aws.ApiGatewayV2.RouteArgs
 *         {
 *             ApiId = exampleApi.Id,
 *             RouteKey = "$default",
 *         });
 *     }
 * 
 * }
 * ```
 * ```go
 * package main
 * 
 * import (
 * 	"fmt"
 * 
 * 	"github.com/pulumi/pulumi-aws/sdk/v4/go/aws/apigatewayv2"
 * 	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
 * )
 * 
 * func main() {
 * 	pulumi.Run(func(ctx *pulumi.Context) error {
 * 		exampleApi, err := apigatewayv2.NewApi(ctx, "exampleApi", &apigatewayv2.ApiArgs{
 * 			ProtocolType:             pulumi.String("WEBSOCKET"),
 * 			RouteSelectionExpression: pulumi.String(fmt.Sprintf("%v%v", "$", "request.body.action")),
 * 		})
 * 		if err != nil {
 * 			return err
 * 		}
 * 		_, err = apigatewayv2.NewRoute(ctx, "exampleRoute", &apigatewayv2.RouteArgs{
 * 			ApiId:    exampleApi.ID(),
 * 			RouteKey: pulumi.String(fmt.Sprintf("%v%v", "$", "default")),
 * 		})
 * 		if err != nil {
 * 			return err
 * 		}
 * 		return nil
 * 	})
 * }
 * ```
 * {{% /example %}}
 * {{% example %}}
 * ### HTTP Proxy Integration
 * 
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as aws from "@pulumi/aws";
 * 
 * const exampleApi = new aws.apigatewayv2.Api("exampleApi", {protocolType: "HTTP"});
 * const exampleIntegration = new aws.apigatewayv2.Integration("exampleIntegration", {
 *     apiId: exampleApi.id,
 *     integrationType: "HTTP_PROXY",
 *     integrationMethod: "ANY",
 *     integrationUri: "https://example.com/{proxy}",
 * });
 * const exampleRoute = new aws.apigatewayv2.Route("exampleRoute", {
 *     apiId: exampleApi.id,
 *     routeKey: "ANY /example/{proxy+}",
 *     target: pulumi.interpolate`integrations/${exampleIntegration.id}`,
 * });
 * ```
 * ```python
 * import pulumi
 * import pulumi_aws as aws
 * 
 * example_api = aws.apigatewayv2.Api("exampleApi", protocol_type="HTTP")
 * example_integration = aws.apigatewayv2.Integration("exampleIntegration",
 *     api_id=example_api.id,
 *     integration_type="HTTP_PROXY",
 *     integration_method="ANY",
 *     integration_uri="https://example.com/{proxy}")
 * example_route = aws.apigatewayv2.Route("exampleRoute",
 *     api_id=example_api.id,
 *     route_key="ANY /example/{proxy+}",
 *     target=example_integration.id.apply(lambda id: f"integrations/{id}"))
 * ```
 * ```csharp
 * using Pulumi;
 * using Aws = Pulumi.Aws;
 * 
 * class MyStack : Stack
 * {
 *     public MyStack()
 *     {
 *         var exampleApi = new Aws.ApiGatewayV2.Api("exampleApi", new Aws.ApiGatewayV2.ApiArgs
 *         {
 *             ProtocolType = "HTTP",
 *         });
 *         var exampleIntegration = new Aws.ApiGatewayV2.Integration("exampleIntegration", new Aws.ApiGatewayV2.IntegrationArgs
 *         {
 *             ApiId = exampleApi.Id,
 *             IntegrationType = "HTTP_PROXY",
 *             IntegrationMethod = "ANY",
 *             IntegrationUri = "https://example.com/{proxy}",
 *         });
 *         var exampleRoute = new Aws.ApiGatewayV2.Route("exampleRoute", new Aws.ApiGatewayV2.RouteArgs
 *         {
 *             ApiId = exampleApi.Id,
 *             RouteKey = "ANY /example/{proxy+}",
 *             Target = exampleIntegration.Id.Apply(id => $"integrations/{id}"),
 *         });
 *     }
 * 
 * }
 * ```
 * ```go
 * package main
 * 
 * import (
 * 	"fmt"
 * 
 * 	"github.com/pulumi/pulumi-aws/sdk/v4/go/aws/apigatewayv2"
 * 	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
 * )
 * 
 * func main() {
 * 	pulumi.Run(func(ctx *pulumi.Context) error {
 * 		exampleApi, err := apigatewayv2.NewApi(ctx, "exampleApi", &apigatewayv2.ApiArgs{
 * 			ProtocolType: pulumi.String("HTTP"),
 * 		})
 * 		if err != nil {
 * 			return err
 * 		}
 * 		exampleIntegration, err := apigatewayv2.NewIntegration(ctx, "exampleIntegration", &apigatewayv2.IntegrationArgs{
 * 			ApiId:             exampleApi.ID(),
 * 			IntegrationType:   pulumi.String("HTTP_PROXY"),
 * 			IntegrationMethod: pulumi.String("ANY"),
 * 			IntegrationUri:    pulumi.String("https://example.com/{proxy}"),
 * 		})
 * 		if err != nil {
 * 			return err
 * 		}
 * 		_, err = apigatewayv2.NewRoute(ctx, "exampleRoute", &apigatewayv2.RouteArgs{
 * 			ApiId:    exampleApi.ID(),
 * 			RouteKey: pulumi.String("ANY /example/{proxy+}"),
 * 			Target: exampleIntegration.ID().ApplyT(func(id string) (string, error) {
 * 				return fmt.Sprintf("%v%v", "integrations/", id), nil
 * 			}).(pulumi.StringOutput),
 * 		})
 * 		if err != nil {
 * 			return err
 * 		}
 * 		return nil
 * 	})
 * }
 * ```
 * {{% /example %}}
 * {{% /examples %}}
 * 
 * ## Import
 * 
 * `aws_apigatewayv2_route` can be imported by using the API identifier and route identifier, e.g.,
 * 
 * ```sh
 *  $ pulumi import aws:apigatewayv2/route:Route example aabbccddee/1122334
 * ```
 * 
 *  
 */
@ResourceType(type="aws:apigatewayv2/route:Route")
public class Route extends io.pulumi.resources.CustomResource {
    /**
     * The API identifier.
     * 
     */
    @Export(name="apiId", type=String.class, parameters={})
    private Output<String> apiId;

    /**
     * @return The API identifier.
     * 
     */
    public Output<String> getApiId() {
        return this.apiId;
    }
    /**
     * Boolean whether an API key is required for the route. Defaults to `false`. Supported only for WebSocket APIs.
     * 
     */
    @Export(name="apiKeyRequired", type=Boolean.class, parameters={})
    private Output</* @Nullable */ Boolean> apiKeyRequired;

    /**
     * @return Boolean whether an API key is required for the route. Defaults to `false`. Supported only for WebSocket APIs.
     * 
     */
    public Output</* @Nullable */ Boolean> getApiKeyRequired() {
        return this.apiKeyRequired;
    }
    /**
     * The authorization scopes supported by this route. The scopes are used with a JWT authorizer to authorize the method invocation.
     * 
     */
    @Export(name="authorizationScopes", type=List.class, parameters={String.class})
    private Output</* @Nullable */ List<String>> authorizationScopes;

    /**
     * @return The authorization scopes supported by this route. The scopes are used with a JWT authorizer to authorize the method invocation.
     * 
     */
    public Output</* @Nullable */ List<String>> getAuthorizationScopes() {
        return this.authorizationScopes;
    }
    /**
     * The authorization type for the route.
     * For WebSocket APIs, valid values are `NONE` for open access, `AWS_IAM` for using AWS IAM permissions, and `CUSTOM` for using a Lambda authorizer.
     * For HTTP APIs, valid values are `NONE` for open access, `JWT` for using JSON Web Tokens, `AWS_IAM` for using AWS IAM permissions, and `CUSTOM` for using a Lambda authorizer.
     * Defaults to `NONE`.
     * 
     */
    @Export(name="authorizationType", type=String.class, parameters={})
    private Output</* @Nullable */ String> authorizationType;

    /**
     * @return The authorization type for the route.
     * For WebSocket APIs, valid values are `NONE` for open access, `AWS_IAM` for using AWS IAM permissions, and `CUSTOM` for using a Lambda authorizer.
     * For HTTP APIs, valid values are `NONE` for open access, `JWT` for using JSON Web Tokens, `AWS_IAM` for using AWS IAM permissions, and `CUSTOM` for using a Lambda authorizer.
     * Defaults to `NONE`.
     * 
     */
    public Output</* @Nullable */ String> getAuthorizationType() {
        return this.authorizationType;
    }
    /**
     * The identifier of the `aws.apigatewayv2.Authorizer` resource to be associated with this route.
     * 
     */
    @Export(name="authorizerId", type=String.class, parameters={})
    private Output</* @Nullable */ String> authorizerId;

    /**
     * @return The identifier of the `aws.apigatewayv2.Authorizer` resource to be associated with this route.
     * 
     */
    public Output</* @Nullable */ String> getAuthorizerId() {
        return this.authorizerId;
    }
    /**
     * The [model selection expression](https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-websocket-api-selection-expressions.html#apigateway-websocket-api-model-selection-expressions) for the route. Supported only for WebSocket APIs.
     * 
     */
    @Export(name="modelSelectionExpression", type=String.class, parameters={})
    private Output</* @Nullable */ String> modelSelectionExpression;

    /**
     * @return The [model selection expression](https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-websocket-api-selection-expressions.html#apigateway-websocket-api-model-selection-expressions) for the route. Supported only for WebSocket APIs.
     * 
     */
    public Output</* @Nullable */ String> getModelSelectionExpression() {
        return this.modelSelectionExpression;
    }
    /**
     * The operation name for the route. Must be between 1 and 64 characters in length.
     * 
     */
    @Export(name="operationName", type=String.class, parameters={})
    private Output</* @Nullable */ String> operationName;

    /**
     * @return The operation name for the route. Must be between 1 and 64 characters in length.
     * 
     */
    public Output</* @Nullable */ String> getOperationName() {
        return this.operationName;
    }
    /**
     * The request models for the route. Supported only for WebSocket APIs.
     * 
     */
    @Export(name="requestModels", type=Map.class, parameters={String.class, String.class})
    private Output</* @Nullable */ Map<String,String>> requestModels;

    /**
     * @return The request models for the route. Supported only for WebSocket APIs.
     * 
     */
    public Output</* @Nullable */ Map<String,String>> getRequestModels() {
        return this.requestModels;
    }
    /**
     * The request parameters for the route. Supported only for WebSocket APIs.
     * 
     */
    @Export(name="requestParameters", type=List.class, parameters={RouteRequestParameter.class})
    private Output</* @Nullable */ List<RouteRequestParameter>> requestParameters;

    /**
     * @return The request parameters for the route. Supported only for WebSocket APIs.
     * 
     */
    public Output</* @Nullable */ List<RouteRequestParameter>> getRequestParameters() {
        return this.requestParameters;
    }
    /**
     * The route key for the route. For HTTP APIs, the route key can be either `$default`, or a combination of an HTTP method and resource path, for example, `GET /pets`.
     * 
     */
    @Export(name="routeKey", type=String.class, parameters={})
    private Output<String> routeKey;

    /**
     * @return The route key for the route. For HTTP APIs, the route key can be either `$default`, or a combination of an HTTP method and resource path, for example, `GET /pets`.
     * 
     */
    public Output<String> getRouteKey() {
        return this.routeKey;
    }
    /**
     * The [route response selection expression](https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-websocket-api-selection-expressions.html#apigateway-websocket-api-route-response-selection-expressions) for the route. Supported only for WebSocket APIs.
     * 
     */
    @Export(name="routeResponseSelectionExpression", type=String.class, parameters={})
    private Output</* @Nullable */ String> routeResponseSelectionExpression;

    /**
     * @return The [route response selection expression](https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-websocket-api-selection-expressions.html#apigateway-websocket-api-route-response-selection-expressions) for the route. Supported only for WebSocket APIs.
     * 
     */
    public Output</* @Nullable */ String> getRouteResponseSelectionExpression() {
        return this.routeResponseSelectionExpression;
    }
    /**
     * The target for the route, of the form `integrations/`*`IntegrationID`*, where *`IntegrationID`* is the identifier of an `aws.apigatewayv2.Integration` resource.
     * 
     */
    @Export(name="target", type=String.class, parameters={})
    private Output</* @Nullable */ String> target;

    /**
     * @return The target for the route, of the form `integrations/`*`IntegrationID`*, where *`IntegrationID`* is the identifier of an `aws.apigatewayv2.Integration` resource.
     * 
     */
    public Output</* @Nullable */ String> getTarget() {
        return this.target;
    }

    /**
     *
     * @param name The _unique_ name of the resulting resource.
     */
    public Route(String name) {
        this(name, RouteArgs.Empty);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     */
    public Route(String name, RouteArgs args) {
        this(name, args, null);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param options A bag of options that control this resource's behavior.
     */
    public Route(String name, RouteArgs args, @Nullable io.pulumi.resources.CustomResourceOptions options) {
        super("aws:apigatewayv2/route:Route", name, args == null ? RouteArgs.Empty : args, makeResourceOptions(options, Output.empty()));
    }

    private Route(String name, Output<String> id, @Nullable RouteState state, @Nullable io.pulumi.resources.CustomResourceOptions options) {
        super("aws:apigatewayv2/route:Route", name, state, makeResourceOptions(options, id));
    }

    private static io.pulumi.resources.CustomResourceOptions makeResourceOptions(@Nullable io.pulumi.resources.CustomResourceOptions options, @Nullable Output<String> id) {
        var defaultOptions = io.pulumi.resources.CustomResourceOptions.builder()
            .version(Utilities.getVersion())
            .build();
        return io.pulumi.resources.CustomResourceOptions.merge(defaultOptions, options, id);
    }

    /**
     * Get an existing Host resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state
     * @param options Optional settings to control the behavior of the CustomResource.
     */
    public static Route get(String name, Output<String> id, @Nullable RouteState state, @Nullable io.pulumi.resources.CustomResourceOptions options) {
        return new Route(name, id, state, options);
    }
}
